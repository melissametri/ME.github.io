<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>TRADEwithnoAID</title>
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0,  shrink-to-fit=no, user-scalable=no, viewport-fit=cover" />
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="MobileOptimized" content="176" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="robots" content="noindex, nofollow" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script> <!-- Include Telegram Web App script -->
    <script>

        function setThemeClass() {
            document.documentElement.className = Telegram.WebApp.colorScheme;
        }

        Telegram.WebApp.onEvent('themeChanged', setThemeClass);
        setThemeClass();
    </script>
    <link href="css/TWNA.css" rel="stylesheet">
</head>

<body>
    <section class="TWNA-page TWNA-items">
        <div class="TWNA-item js-item" data-item-id="1">
            <div class="TWNA-item-counter js-item-counter">1</div>
            <div class="TWNA-item-photo">
                <picture class="TWNA-item-lottie js-item-lottie">
                    <source type="application/x-tgsticker" srcset="./img/tgs/news.tgs">
                    <img src="./img/news.png">
                    alt="NEWS">
                </picture>
            </div>
            <div class="TWNA-item-label">
                <span class="TWNA-item-title">NEWS</span>
            </div>
            <div class="TWNA-item-buttons">
                <button class="TWNA-item-decr-button js-item-decr-btn button-item ripple-handler">
                    <span class="ripple-mask"><span class="ripple"></span></span>
                </button>
                <button class="TWNA-item-incr-button js-item-incr-btn button-item ripple-handler">
                    <span class="button-item-label">Add</span>
                    <span class="ripple-mask"><span class="ripple"></span></span>
                </button>
            </div>
        </div>
        <div class="TWNA-item js-item" data-item-id="2">
            <div class="TWNA-item-counter js-item-counter">2</div>
            <div class="TWNA-item-photo">
                <picture class="TWNA-item-lottie js-item-lottie">
                    <source type="application/x-tgsticker" srcset="./img/tgs/analysis.tgs">
                    <img src="./img/analysis.png" alt="ANALYSIS">
                </picture>
            </div>
            <div class="TWNA-item-label">
                <span class="TWNA-item-title">ANALYSIS</span>
            </div>
            <div class="TWNA-item-buttons">
                <button class="TWNA-item-decr-button js-item-decr-btn button-item ripple-handler">
                    <span class="ripple-mask"><span class="ripple"></span></span>
                    <button class="TWNA-item-incr-button js-item-incr-btn button-item ripple-handler">
                        <span class="button-item-label">Add</span>
                        <span class="ripple-mask"><span class="ripple"></span></span>
                    </button>
            </div>
        </div>
        <div class="TWNA-item js-item" data-item-id="3">
            <div class="TWNA-item-counter js-item-counter">3</div>
            <div class="TWNA-item-photo">
                <picture class="TWNA-item-lottie js-item-lottie">
                    <source type="application/x-tgsticker" srcset="./img/tgs/fearandgreed.tgs">
                    <img src="./img/fearandgreed.png" alt="FEAR & GREED INDEX">
                </picture>
            </div>
            <div class="TWNA-item-label">
                <span class="TWNA-item-title">FEAR & GREED INDE</span>
            </div>
            <div class="TWNA-item-buttons">
                <button class="TWNA-item-decr-button js-item-decr-btn button-item ripple-handler">
                    <span class="ripple-mask"><span class="ripple"></span></span>
                    <button class="TWNA-item-incr-button js-item-incr-btn button-item ripple-handler">
                        <span class="button-item-label">Add</span>
                        <span class="ripple-mask"><span class="ripple"></span></span>
                    </button>
            </div>
        </div>

        <div class="TWNA-item js-item" data-item-id="4">
            <div class="TWNA-item-counter js-item-counter">4</div>
            <div class="TWNA-item-photo">
                <picture class="TWNA-item-lottie js-item-lottie">
                    <source type="application/x-tgsticker" srcset="./img/tgs/top10.tgs">
                    <img src="./img/top10.png" alt="TOP 10 COINS OVERVIEW">
                </picture>
            </div>
            <div class="TWNA-item-label">
                <span class="TWNA-item-title">TOP 10 COINS OVERVIEW</span>
            </div>
            <div class="TWNA-item-buttons">
                <button class="TWNA-item-decr-button js-item-decr-btn button-item ripple-handler">
                    <span class="ripple-mask"><span class="ripple"></span></span>
                    <button class="TWNA-item-incr-button js-item-incr-btn button-item ripple-handler">
                        <span class="button-item-label">Add</span>
                        <span class="ripple-mask"><span class="ripple"></span></span>
                    </button>
            </div>
        </div>

        <div class="TWNA-item js-item" data-item-id="5">
            <div class="TWNA-item-counter js-item-counter">5</div>
            <div class="TWNA-item-photo">
                <picture class="TWNA-item-lottie js-item-lottie">
                    <source type="application/x-tgsticker" srcset="./img/tgs/telegram.tgs">
                    <img src="./img/telegram.png" alt="INVITE FRIENDS">
                </picture>
            </div>
            <div class="TWNA-item-label">
                <span class="TWNA-item-title">INVITE FRIENDS</span>
            </div>
            <div class="TWNA-item-buttons">
                <button class="TWNA-item-decr-button js-item-decr-btn button-item ripple-handler">
                    <span class="ripple-mask"><span class="ripple"></span></span>
                    <button class="TWNA-item-incr-button js-item-incr-btn button-item ripple-handler">
                        <span class="button-item-label">Add</span>
                        <span class="ripple-mask"><span class="ripple"></span></span>
                    </button>
            </div>
        </div>

        <div class="TWNA-item js-item" data-item-id="6">
            <div class="TWNA-item-counter js-item-counter">6</div>
            <div class="TWNA-item-photo">
                <picture class="TWNA-item-lottie js-item-lottie">
                    <source type="application/x-tgsticker" srcset="./img/tgs/vip.tgs">
                    <img src="./img/vip.png" alt="JOIN OUR VIP CHANNEL">
                </picture>
            </div>
            <div class="TWNA-item-label">
                <span class="TWNA-item-title">JOIN OUR VIP CHANNEL</span>
            </div>
            <div class="TWNA-item-buttons">
                <button class="TWNA-item-decr-button js-item-decr-btn button-item ripple-handler">
                    <span class="ripple-mask"><span class="ripple"></span></span>
                    <button class="TWNA-item-incr-button js-item-incr-btn button-item ripple-handler">
                        <span class="button-item-label">Add</span>
                        <span class="ripple-mask"><span class="ripple"></span></span>
                    </button>
            </div>
        </div>

        <div class="TWNA-item js-item" data-item-id="7">
            <div class="TWNA-item-counter js-item-counter">7</div>
            <div class="TWNA-item-photo">
                <picture class="TWNA-item-lottie js-item-lottie">
                    <source type="application/x-tgsticker" srcset="./img/tgs/trade.tgs">
                    <img src="./img/trade.png" alt="TRADE NOW WITH BYBIT">
                </picture>
            </div>
            <div class="TWNA-item-label">
                <span class="TWNA-item-title">TRADE NOW WITH BYBIT</span>
            </div>
            <div class="TWNA-item-buttons">
                <button class="TWNA-item-decr-button js-item-decr-btn button-item ripple-handler">
                    <span class="ripple-mask"><span class="ripple"></span></span>
                    <button class="TWNA-item-incr-button js-item-incr-btn button-item ripple-handler">
                        <span class="button-item-label">Add</span>
                        <span class="ripple-mask"><span class="ripple"></span></span>
                    </button>
            </div>
        </div>

        <div class="TWNA-item js-item" data-item-id="8">
            <div class="TWNA-item-counter js-item-counter">8</div>
            <div class="TWNA-item-photo">
                <picture class="TWNA-item-lottie js-item-lottie">
                    <source type="application/x-tgsticker" srcset="./img/tgs/youtube.tgs">
                    <img src="./img/youtube.png" alt="OUR YOUTUBE CHANNEL">
                </picture>
            </div>
            <div class="TWNA-item-label">
                <span class="TWNA-item-title">OUR YOUTUBE CHANNEL</span>
            </div>
            <div class="TWNA-item-buttons">
                <button class="TWNA-item-decr-button js-item-decr-btn button-item ripple-handler">
                    <span class="ripple-mask"><span class="ripple"></span></span>
                    <button class="TWNA-item-incr-button js-item-incr-btn button-item ripple-handler">
                        <span class="button-item-label">Add</span>
                        <span class="ripple-mask"><span class="ripple"></span></span>
                    </button>
            </div>
        </div>
        <div class="TWNA-item-shadow"></div>
        <div class="TWNA-item-shadow"></div>
        <div class="TWNA-item-shadow"></div>
        <div class="TWNA-item-shadow"></div>
    </section>
    <section class="TWNA-block">
        <div class="TWNA-order-header-wrap">
            <h2 class="TWNA-order-header">Your Order</h2>
            <span class="TWNA-order-edit js-order-edit">Edit</span>
            Edit</span>
        </div>
    </section>


    <script src="https://tg.dev/js/jquery.min.js"></script>
    <script src="https://tg.dev/js/tgsticker.js?27"></script>
    <script src="js/TWNA.js?version=<?php echo uniqid() ?>"></script>
    <script src="js/TWNA.js"></script>
    <script>

        TWNA.init({
            "apiUrl": "<?php echo $_ENV['REMOTE_PATH'] . '/telegram' ?>",
            "userId": 0,
            "userHash": null
        });
    </script>
    <style>
        button:hover {
            background-color: #0056b3;
            font-family: Arial, sans-serif;
        }
    </style>
    </head>

    <body>
        <h1>Welcome to TRADE with no AID App</h1>
        <p id="user-info">Loading user info...</p>
        <input type="text" id="user-input" placeholder="Type something..." />
        
        <!-- Button to send data back to the bot -->
        <button id="send-data">Send Data to Bot</button>
        
        <!-- Buttons for bot commands -->
        <button id="FILTER_NEWS">NEWS</button>
        <button id="FILTER_ANALYSIS">ANALYSIS</button>
        <button id="FEAR_GREED">FEAR & GREED INDEX</button>
        <button id="TOP_COINS">TOP 10 COINS OVERVIEW</button>
        <button id="INVITE_FRIENDS">INVITE FRIENDS</button>
        <button id="JOIN_VIP">JOIN OUR VIP CHANNEL</button>
        <button id="YOUTUBE">OUR YOUTUBE CHANNEL</button>
        <!-- Button to close the app -->
        <button id="close-app">Close App</button>
        
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const tg = window.Telegram.WebApp;

                // Display user info
                if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
                    document.getElementById('user-info').innerText = `Hello, ${tg.initDataUnsafe.user.first_name}!`;
                } else {
                    document.getElementById('user-info').innerText = `Hello!`;
                    console.warn('Telegram user data is not available.');
                }

                // Expand the Web App to full height
                tg.expand();

                // Handle sending data back to the bot
                document.getElementById('send-data').addEventListener('click', async () => {
                    const userInput = document.getElementById('user-input').value;
                    console.log('User input:', userInput);

                    try {
                        const response = await fetch(`${tg.initDataUnsafe.webhook_url}/process-data`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ user_input: userInput, user_id: tg.initDataUnsafe?.user?.id }),
                        });

                        const result = await response.json();
                        console.log('Server response:', result);

                        tg.sendData(userInput);
                    } catch (error) {
                        console.error('Error sending data:', error);
                    }
                });

                // Handle Telegram bot commands via buttons
                document.getElementById('FILTER_NEWS').addEventListener('click', () => {
                    tg.sendData('/news');
                });

                document.getElementById('FILTER_ANALYSIS').addEventListener('click', () => {
                    tg.sendData('/analysis');
                });

                document.getElementById('FEAR_GREED').addEventListener('click', () => {
                    tg.sendData('/fear_greed');
                });

                document.getElementById('TOP_COINS').addEventListener('click', () => {
                    tg.sendData('/top_coins');
                });

                document.getElementById('INVITE_FRIENDS').addEventListener('click', () => {
                    tg.sendData('/invite_friends');
                });

                document.getElementById('JOIN_VIP').addEventListener('click', () => {
                    tg.sendData('/join_vip');
                });

                document.getElementById('YOUTUBE').addEventListener('click', () => {
                    tg.sendData('/youtube');
                });

                // Handle closing the Web App
                document.getElementById('close-app').addEventListener('click', () => {
                    tg.close();
                });
            });
        </script>
        </body>
        
        </html>